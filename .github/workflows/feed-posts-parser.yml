name: Feed Posts Parser

on:
  workflow_dispatch: # Allows manual triggering
  # schedule:
  #   - cron: '0 5 * * *' # Runs daily at 5 AM UTC

jobs:
  feed-parser:
    runs-on: ubuntu-latest
    permissions:
      issues: write
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          ref: output
      - name: Run Feed Post Parser Action
        uses: xaoxuu/feed-posts-parser@main
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }} # Leave this as is, it's automatically generated
        with:
          data_path: 'v2/data.json'
          posts_count: '2'
          date_format: 'YYYY-MM-DD HH:mm'
